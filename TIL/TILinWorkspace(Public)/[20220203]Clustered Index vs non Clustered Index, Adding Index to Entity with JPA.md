## Clustered Index vs non-Clustered Index, Adding Index to Entity with JPA
(repo. [Zwillie-API-SERVER](https://github.com/codepark-kr/Zwillie-API-SERVER))  
`last update: 2022.02.03.`

---

## Introduction
Few months ago, I already heard about Clustered Index and non-Clustered Index. Also what cardinality is. For example: Why we need to generate and add Indexes to specific columns of our table? Because when we search for something in our database - without indexing, the SQL server has to scan the *whole table* for that keyword. Justly, It must be bad for efficiency. Imagine that when we wanna find a word, we must have to rummage through every pages in a dictionary without any index.

At that time when I learned about Indexing in database, I just added non-clustered index to certain columns without any consideration. Then now, generating a REST API as usual, suddenly I realized that there was no index on the entities in my project now. So I decided to document about 'What is the difference between Clustered Index and non-Clustered Index?' and 'How we can add index to our Spring boot with JPA project?' this time.

## Explanation
> ### Clustered Index vs non-Clustered Index
> ![image](https://user-images.githubusercontent.com/68538569/152191970-19e1e96d-ed63-4d28-86c8-5321ab99bc9f.png)
>
> **Conclusion :**
> 1. Clustered Index would be auto-generated by primary key of our table.
> 2. Non-Clustered Index would be generated by Unique Key(UQ) and Foreign Key(FK).
> 3. We can generate both type of indexes additionally by our needs.
> 4. Non-Clustered Index require extra storage because It store index separately. (So should generate that only when we must need them)
> 5. Difference between Clustered Index and non-Clustered Index is, the former has sorted order by value, and the latter has no order. That is, order of non-Clustered Index is independent from their values.
>
> ### So, when we need to generate them?
> **Clustered Index :**
> 1. When the data of column wouldn't updated often.
> 2. When we need to get sorted data.
>
> **Non-Clustered Index :**
> 1. When we need to get filtered data.
> 2. When we need to search a keyword in specific column.
> 3. When the data of column would update often.

> ### How to add Index to entity in JPA?
> ![image](https://user-images.githubusercontent.com/68538569/152208144-c006608e-e54a-4f00-9a8b-2e476f855059.png)    
> Write the index name and target column name in `@Table` the annotation of JPA.
>
> ### Result
> ![image](https://user-images.githubusercontent.com/68538569/152207805-3fca101f-6f62-487a-99bf-b63bf89fc254.png)


## Reference
[https://www.guru99.com/clustered-vs-non-clustered-index.html](https://www.guru99.com/clustered-vs-non-clustered-index.html)
